<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>TOUCH MOUSE</title>
    <meta name="description" content="form para ingresar el codigo desde el celular" />
    <link rel="stylesheet" href="client.css">
</head>
<body>
    <form class="form-client">
        <span class="close-client">Ã—</span>
        <div class="info-client">
            <span class="title-client">Enter Code</span>
            <p class="description-client">
                Please enter the 6-digit code we sent to your device.
            </p>
        </div>
        <div class="inputs-client">
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
            <input placeholder="" type="text" maxlength="1" inputmode="text" autocomplete="off" />
        </div>
        <a class="validate-client" href="#">Verify</a>
        <p class="resend-client">
            y el codigo ? <a class="resend-action-client" href="#">Resend</a>
        </p>
    </form>


    <video id="screen" autoplay playsinline muted style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; object-fit:contain; z-index:1000; background: black;"></video>

<div id="control-ui">
  <div id="joystick">
    <div id="stick"></div>
  </div>

  <div id="pointer"></div>

  <button id="clickBtn">CLICK</button>
</div>
    

    <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
    <script>
        eruda.init();
    </script>

    <script type="module">
        import { startViewer } from './client.js';
        startViewer();
    </script>
    <script src="script.js"></script>

    <script>
        const inputs = document.querySelectorAll('.inputs-client input');
        
        inputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                let value = e.target.value;
                value = value.toUpperCase().replace(/[^A-Z0-9]/g, '');
                if (value.length > 1) value = value.slice(0, 1);
                e.target.value = value;
                if (value.length === 1 && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !e.target.value && index > 0) {
                    inputs[index - 1].focus();
                }
            });
            
            input.addEventListener('paste', (e) => {
                e.preventDefault();
                const pastedData = e.clipboardData.getData('text')
                    .toUpperCase()
                    .replace(/[^A-Z0-9]/g, '');
                
                pastedData.split('').forEach((char, i) => {
                    if (index + i < inputs.length) {
                        inputs[index + i].value = char;
                    }
                });
                const lastFilledIndex = Math.min(index + pastedData.length, inputs.length - 1);
                inputs[lastFilledIndex].focus();
            });
            
            input.addEventListener('focus', (e) => {
                e.target.select();
            });
        });
        
        window.addEventListener('load', () => {
            setTimeout(() => {
                inputs[0].focus();
            }, 100);
        });
    </script>
</body>
</html>
